* TEST SUITE SCRIPT FOR Z/OS BASED TESTING INITIATED FROM THE PC BASED TEST SUITE
* 
* %testversion% will be replaced by test suite with appropriate dataset for this test version
* %testid% will be replaced by test suite with appropriate test id for this test run
*
* THIS TEST SCRIPT WILL
* 1.  CREATE A DATABASE
* 2.  GRANT PROPER AUTHORITIES FOR THE DATABASE
* 3.  CREATE DATABASE TABLES AND INDEXES
* 4.  UPDATED DATABASE VERSION INFORMATION
* 5.  BIND THE ZDBCONS MODULE TO THE DATABASE (Z/OS BASED CONSOLIDATE)
* 6.  RUN REDUCE FOR OCT13 DATA
* 7.  RUN ANALYZE FOR OCT13 DATA
* 8.  RUN DBLOAD FOR OCT13 DATA
* 9.  RUN REDUCE FOR OCT15 DATA
* 10. RUN ANALYZE FOR OCT15 DATA
* 11. RUN DBLOAD FOR OCT15 DATA
* 12. RUN REDUCE FOR OCT16 DATA
* 13. RUN ANALYZE FOR OCT16 DATA
* 14. RUN DBLOAD FOR OCT16 DATA
* 15. RUN ZDBCONS (Z/OS BASED CONSOLIDATE)

RUNJCL RMFMAGIC.%testversion%.%testid%.DB2.JCL($1DBALLO) RC<=04
REPLACE "DROP DATABASE RMFMAGIC;" WITH "DROP DATABASE WF2010;"
REPLACE "CREATE DATABASE RMFMAGIC" WITH "CREATE DATABASE WF2010"


RUNJCL RMFMAGIC.%testversion%.%testid%.DB2.JCL($DB2GRNT) RC<=08
REPLACE "GRANT DBADM ON DATABASE RMFMAGIC TO USER_ID;" WITH "GRANT DBADM ON DATABASE WF2010 TO IMUSGU1;"
REPLACE "GRANT USE OF STOGROUP RMFDBSG TO USER_ID;" WITH "GRANT USE OF STOGROUP RMFDBSG TO IMUSGU1;"
REPLACE "GRANT ALL ON PACKAGE NULLID.SYSSH100 TO USER_ID;" WITH "GRANT ALL ON PACKAGE NULLID.SYSSH100 TO IMUSGU1;"
REPLACE "GRANT ALL ON PACKAGE NULLID.SYSSH200 TO USER_ID;" WITH "GRANT ALL ON PACKAGE NULLID.SYSSH200 TO IMUSGU1;"
REPLACE "GRANT ALL ON PACKAGE NULLID.SYSSTAT TO USER_ID;"  WITH "GRANT ALL ON PACKAGE NULLID.SYSSTAT TO IMUSGU1;"
REPLACE "GRANT ALL ON PACKAGE NULLID.SQLC2E07 TO USER_ID;" WITH "GRANT ALL ON PACKAGE NULLID.SQLC2E07 TO IMUSGU1;"


RUNJCL RMFMAGIC.%testversion%.%testid%.DB2.JCL($DB3TBLE) RC<=04
REPLACE "CREATE  TABLESPACE RMFMAGIC IN RMFMAGIC" WITH "CREATE  TABLESPACE WF2010 IN WF2010"
REPLACE "CREATOR_ID." WITH "WF2010."
REPLACE ") IN RMFMAGIC.RMFMAGIC" WITH ") IN WF2010.WF2010"


RUNJCL RMFMAGIC.%testversion%.%testid%.DB2.JCL($DB0UPDT) RC<=04
REPLACE "DELETE FROM CREATOR_ID.TBL_DBVER ;" WITH "DELETE FROM WF2010.TBL_DBVER ;"
REPLACE "INSERT INTO CREATOR_ID.TBL_DBVER" WITH "INSERT INTO WF2010.TBL_DBVER"


RUNJCL RMFMAGIC.%testversion%.%testid%.DB2.JCL($DB0BIND) RC<=00
REPLACE "SET PRODUCT=RMFMAGIC       " WITH "SET PRODUCT=RMFMAGIC.%testversion%"
REPLACE "PLAN(ZDB2CONS)" WITH "PLAN(WF2010)"
REPLACE "QUALIFIER(CREATOR_ID)" WITH "QUALIFIER(WF2010)"


RUNJCL RMFMAGIC.%testversion%.%testid%.JCL($2REDUCE) RC<=12
REPLACE "SET PROJECT=PROJECT" WITH "SET PROJECT=WF2010"
REPLACE "SET RUN=RUN1         " WITH "SET RUN=OCT13"
REPLACE "SET PRODUCT=RMFMAGIC            " WITH "SET PRODUCT=RMFMAGIC.%testversion%"
REPLACE "SET USERHLQ=USERHLQ             " WITH "SET USERHLQ=RMFMAGIC.%testversion%"
REPLACE "//SMF      DD DISP=SHR,DSN=&USERHLQ..&PROJECT..SMF7X" WITH "//SMF      DD DISP=SHR,DSN=RMFMAGIC.TSUITE.WF2010.OCT13.ZRF"
REPLACE "//SMF1     DD DISP=SHR,DSN=&USERHLQ..&PROJECT..SMF42" WITH "//*MF1     DD DISP=SHR,DSN=&USERHLQ..&PROJECT..SMF42"
REPLACE "//DCOLLECT DD DUMMY" WITH "//*DCOLLECT DD DUMMY"
REPLACE "//*DCOLLECT DD DISP=SHR,DSN=&USERHLQ..&PROJECT..CAPACITY.ZRD" WITH "//DCOLLECT DD DISP=SHR,DSN=RMFMAGIC.TSUITE.WF2010.OCT13.ZRD"


RUNJCL RMFMAGIC.%testversion%.%testid%.JCL($3ANALZE) RC<=04
REPLACE "SET PROJECT=PROJECT" WITH "SET PROJECT=WF2010"
REPLACE "SET RUN=RUN1         " WITH "SET RUN=OCT13"
REPLACE "SET PRODUCT=RMFMAGIC            " WITH "SET PRODUCT=RMFMAGIC.%testversion%"
REPLACE "SET USERHLQ=USERHLQ             " WITH "SET USERHLQ=RMFMAGIC.%testversion%"


RUNJCL RMFMAGIC.%testversion%.%testid%.JCL($4DBLOAD) RC<=08
REPLACE "SET PROJECT=PROJECT             " WITH "SET PROJECT=WF2010"
REPLACE "SET RUN=RUN1                    " WITH "SET RUN=OCT13"
REPLACE "SET PRODUCT=RMFMAGIC            " WITH "SET PRODUCT=RMFMAGIC.%testversion%"
REPLACE "SET USERHLQ=USERHLQ             " WITH "SET USERHLQ=RMFMAGIC.%testversion%"
REPLACE "SET CREATOR=CREATOR_ID          " WITH "SET CREATOR=WF2010"
REPLACE "SET IGS=IGT                     " WITH "SET IGS=IGT"


RUNJCL RMFMAGIC.%testversion%.%testid%.JCL($2REDUCE) RC<=12
REPLACE "SET PROJECT=PROJECT" WITH "SET PROJECT=WF2010"
REPLACE "SET RUN=RUN1         " WITH "SET RUN=OCT15"
REPLACE "SET PRODUCT=RMFMAGIC            " WITH "SET PRODUCT=RMFMAGIC.%testversion%"
REPLACE "SET USERHLQ=USERHLQ             " WITH "SET USERHLQ=RMFMAGIC.%testversion%"
REPLACE "//SMF      DD DISP=SHR,DSN=&USERHLQ..&PROJECT..SMF7X" WITH "//SMF      DD DISP=SHR,DSN=RMFMAGIC.TSUITE.WF2010.OCT15.ZRF"
REPLACE "//SMF1     DD DISP=SHR,DSN=&USERHLQ..&PROJECT..SMF42" WITH "//*MF1     DD DISP=SHR,DSN=&USERHLQ..&PROJECT..SMF42"
REPLACE "//DCOLLECT DD DUMMY" WITH "//*DCOLLECT DD DUMMY"
REPLACE "//*DCOLLECT DD DISP=SHR,DSN=&USERHLQ..&PROJECT..CAPACITY.ZRD" WITH "//DCOLLECT DD DISP=SHR,DSN=RMFMAGIC.TSUITE.WF2010.OCT15.ZRD"


RUNJCL RMFMAGIC.%testversion%.%testid%.JCL($3ANALZE) RC<=04
REPLACE "SET PROJECT=PROJECT" WITH "SET PROJECT=WF2010"
REPLACE "SET RUN=RUN1         " WITH "SET RUN=OCT15"
REPLACE "SET PRODUCT=RMFMAGIC            " WITH "SET PRODUCT=RMFMAGIC.%testversion%"
REPLACE "SET USERHLQ=USERHLQ             " WITH "SET USERHLQ=RMFMAGIC.%testversion%"


RUNJCL RMFMAGIC.%testversion%.%testid%.JCL($4DBLOAD) RC<=08
REPLACE "SET PROJECT=PROJECT             " WITH "SET PROJECT=WF2010"
REPLACE "SET RUN=RUN1                    " WITH "SET RUN=OCT15"
REPLACE "SET PRODUCT=RMFMAGIC            " WITH "SET PRODUCT=RMFMAGIC.%testversion%"
REPLACE "SET USERHLQ=USERHLQ             " WITH "SET USERHLQ=RMFMAGIC.%testversion%"
REPLACE "SET CREATOR=CREATOR_ID          " WITH "SET CREATOR=WF2010"
REPLACE "SET IGS=IGT                     " WITH "SET IGS=IGT"


RUNJCL RMFMAGIC.%testversion%.%testid%.JCL($2REDUCE) RC<=12
REPLACE "SET PROJECT=PROJECT" WITH "SET PROJECT=WF2010"
REPLACE "SET RUN=RUN1         " WITH "SET RUN=OCT16"
REPLACE "SET PRODUCT=RMFMAGIC            " WITH "SET PRODUCT=RMFMAGIC.%testversion%"
REPLACE "SET USERHLQ=USERHLQ             " WITH "SET USERHLQ=RMFMAGIC.%testversion%"
REPLACE "//SMF      DD DISP=SHR,DSN=&USERHLQ..&PROJECT..SMF7X" WITH "//SMF      DD DISP=SHR,DSN=RMFMAGIC.TSUITE.WF2010.OCT16.ZRF"
REPLACE "//SMF1     DD DISP=SHR,DSN=&USERHLQ..&PROJECT..SMF42" WITH "//*MF1     DD DISP=SHR,DSN=&USERHLQ..&PROJECT..SMF42"
REPLACE "//DCOLLECT DD DUMMY" WITH "//*DCOLLECT DD DUMMY"
REPLACE "//*DCOLLECT DD DISP=SHR,DSN=&USERHLQ..&PROJECT..CAPACITY.ZRD" WITH "//DCOLLECT DD DISP=SHR,DSN=RMFMAGIC.TSUITE.WF2010.OCT16.ZRD"


RUNJCL RMFMAGIC.%testversion%.%testid%.JCL($3ANALZE) RC<=04
REPLACE "SET PROJECT=PROJECT" WITH "SET PROJECT=WF2010"
REPLACE "SET RUN=RUN1         " WITH "SET RUN=OCT16"
REPLACE "SET PRODUCT=RMFMAGIC            " WITH "SET PRODUCT=RMFMAGIC.%testversion%"
REPLACE "SET USERHLQ=USERHLQ             " WITH "SET USERHLQ=RMFMAGIC.%testversion%"


RUNJCL RMFMAGIC.%testversion%.%testid%.JCL($4DBLOAD) RC<=08
REPLACE "SET PROJECT=PROJECT             " WITH "SET PROJECT=WF2010"
REPLACE "SET RUN=RUN1                    " WITH "SET RUN=OCT16"
REPLACE "SET PRODUCT=RMFMAGIC            " WITH "SET PRODUCT=RMFMAGIC.%testversion%"
REPLACE "SET USERHLQ=USERHLQ             " WITH "SET USERHLQ=RMFMAGIC.%testversion%"
REPLACE "SET CREATOR=CREATOR_ID          " WITH "SET CREATOR=WF2010"
REPLACE "SET IGS=IGT                     " WITH "SET IGS=IGT"


RUNJCL RMFMAGIC.%testversion%.%testid%.JCL($5DBCONS) RC<=08
REPLACE "SET PRODUCT=RMFMAGIC            " WITH "SET PRODUCT=RMFMAGIC.%testversion%"
REPLACE "RUN  PROGRAM(ZDB2CONS) PLAN(ZDB2CONS) -" WITH "RUN  PROGRAM(ZDB2CONS) PLAN(WF2010) -"
REPLACE "LIB('RMFMAGIC.LOAD')" WITH "LIB('RMFMAGIC.%testversion%.LOAD')"
